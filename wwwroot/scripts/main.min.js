var ModulesJS;!function(a){!function(a){"use strict";var b=function(){function a(){}return a}();b.MODULE_JS_ATTRIBUTE_NAME="data-module",a.Common=b}(a.Constants||(a.Constants={}))}(ModulesJS||(ModulesJS={}));var ModulesJS;!function(a){"use strict";var b=function(){function b(){}return b.run=function(){a.Managers.ModuleManager.instance.configure(["ModulesJS.Modules"]).init()},b}();a.Main=b}(ModulesJS||(ModulesJS={}));var ModulesJS;!function(a){!function(b){"use strict";var c=function(){function b(){this._instanceMap=new Map,this._namespaces=[],this._mutationObserver=new MutationObserver(this._onDomMutatedEventHandler.bind(this))}return b.prototype.configure=function(a){return this._namespaces=a,this},b.prototype.init=function(){this.initAndLoadModulesInDOM(),this._mutationObserver.observe(document.body,{childList:!0,subtree:!0})},b.prototype.initAndLoadModulesInDOM=function(){this.createAllModules(),this.loadModules()},b.prototype.createModule=function(b){if(this.isModule(b)&&!this._instanceMap.has(b)){var c=b.getAttribute(a.Constants.Common.MODULE_JS_ATTRIBUTE_NAME),d=Utils.Activator.tryCreateInstanceWithinNamespaces(c,this._namespaces);if(null==d)throw new Error("The module with name ["+c+"] couldn't be created within these namespaces ["+this._namespaces.join(", ")+"]");return d.init(b),this._instanceMap.set(b,{element:b,module:d,children:this._getAllModuleElements(b),loaded:!1}),!0}return!1},b.prototype.createAllModules=function(a){var b=this;void 0===a&&(a=document.body),this._getAllModuleElements(a,!0).forEach(function(a){return b.createModule(a)})},b.prototype.loadModules=function(){this._instanceMap.forEach(function(a,b){!1===a.loaded&&(a.module.onLoad(),a.loaded=!0)})},b.prototype.disposeModulesNotInDOM=function(){var a=this,b=[];this._instanceMap.forEach(function(a,c){document.body.contains(a.element)||(a.module.dispose(),b.push(a))}),b.forEach(function(b){return a._instanceMap.delete(b.element)})},b.prototype.isModule=function(b){return null!=b&&b.hasAttribute(a.Constants.Common.MODULE_JS_ATTRIBUTE_NAME)},b.prototype._getAllModuleElements=function(b,c){void 0===b&&(b=document.body),void 0===c&&(c=!1);var d=b.querySelectorAll("["+a.Constants.Common.MODULE_JS_ATTRIBUTE_NAME+"]"),e=Array.from(d);return!0===c&&this.isModule(b)&&e.unshift(b),e||[]},b.prototype._onDomMutatedEventHandler=function(a,b){this.initAndLoadModulesInDOM(),this.disposeModulesNotInDOM()},b}();c.instance=new c,b.ModuleManager=c}(a.Managers||(a.Managers={}))}(ModulesJS||(ModulesJS={}));var ModulesJS;!function(a){!function(a){"use strict";var b=function(){function a(){}return a.prototype.init=function(a){console.log("Test module initialized")},a.prototype.onLoad=function(){console.log("Test module loaded")},a.prototype.dispose=function(){console.log("Test module disposed")},a}();a.TestModule=b}(a.Modules||(a.Modules={}))}(ModulesJS||(ModulesJS={}));var ModulesJS;!function(a){!function(a){"use strict";var b=function(){function a(){this._startTime=null,this._startTime=null,this._totalMS=0,this._kill=!1}return a.prototype.init=function(a){console.log("Timer module initialized"),this._minsSpan=a.querySelector('[data-js-hook="tc:mins"]'),this._secsSpan=a.querySelector('[data-js-hook="tc:secs"]'),this._hsSpan=a.querySelector('[data-js-hook="tc:hs"]')},a.prototype.onLoad=function(){this._minsSpan.innerText="00",this._secsSpan.innerText="00",null!=this._hsSpan&&(this._hsSpan.innerText="00"),this._animFrameReqId=requestAnimationFrame(this._tick.bind(this)),console.log("Timer module loaded and started")},a.prototype.dispose=function(){console.log("Timer module disposed"),this._kill=!0,cancelAnimationFrame(this._animFrameReqId)},a.prototype._tick=function(a){null==this._startTime&&(this._startTime=a,console.log("StartTime: ",this._startTime)),!1===this._kill&&(this._animFrameReqId=requestAnimationFrame(this._tick.bind(this))),this._totalMS=a-this._startTime;var b=this._calculateTime();this._displayTime(b.min,b.sec,b.hs)},a.prototype._calculateTime=function(){var a=Math.floor(this._totalMS/10),b=Math.floor(this._totalMS/1e3),c=a%100;return{sec:b%60,min:Math.floor(b/60),hs:c}},a.prototype._displayTime=function(a,b,c){this._crrntDisplayedMin!=a&&(this._crrntDisplayedMin=a,this._minsSpan.innerText=a<10?"0"+a.toString(10):a.toString(10)),this._crrntDisplayedSec!=b&&(this._crrntDisplayedSec=b,this._secsSpan.innerText=b<10?"0"+b.toString(10):b.toString(10)),null!=this._hsSpan&&this._crrntDisplayedHs!=c&&(this._crrntDisplayedHs=c,this._hsSpan.innerText=c<10?"0"+c.toString(10):c.toString(10))},a}();a.TimerModule=b}(a.Modules||(a.Modules={}))}(ModulesJS||(ModulesJS={}));var Utils;!function(a){"use strict";var b=function(){function a(){}return a.tryCreateInstanceWithinNamespaces=function(b,c,d){if(void 0===d&&(d=[]),null==b)throw new ReferenceError("argument name cannot be null");var e=null;if(d.unshift(b),a.classExists(b))e=a.createInstance.apply(this,d);else for(var f=0;f<c.length;f++){var g=c[f]+"."+b;d[0]=g,a.classExists(g)&&(e=a.createInstance.apply(this,d))}return e},a.createInstance=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(null==a)throw new ReferenceError("argument name cannot be null");for(var d=a.split("."),e=window||this,f=0,g=d.length;f<g;f++)e=e[d[f]];if("function"!=typeof e)throw new Error("No function or class with name ["+a+"] was found in the system");return new(Function.prototype.bind.apply(e,arguments))},a.classExists=function(a){if(null==a)return!1;for(var b=a.split("."),c=window||this,d=0,e=b.length;d<e;d++){if(void 0===c)return!1;c=c[b[d]]}return"function"==typeof c},a}();a.Activator=b}(Utils||(Utils={}));