var Application;!function(a){"use strict";var b=function(){function a(){}return a.run=function(){ModulesJS.Core.Managers.ModuleManager.instance.configure({namespaces:["Application.Modules"],moduleFactory:new Opt.Factories.ModuleFactory}).init()},a}();a.Main=b}(Application||(Application={}));var Application;!function(a){!function(a){"use strict";var b={minuteSpanHook:"",secoundHook:"",rememberTime:!1},c=function(){function a(a){this._startTime=null,this._options=Object.assign({},b,a),this._startTime=null,this._totalMS=0,this._kill=!1}return a.prototype.init=function(b){if(console.log("Timer module initialized"),this._minsSpan=b.querySelector('[data-js-hook="tc:mins"]'),this._secsSpan=b.querySelector('[data-js-hook="tc:secs"]'),this._hsSpan=b.querySelector('[data-js-hook="tc:hs"]'),this._options.rememberTime){var c=parseFloat(localStorage.getItem(a._STORED_ST_KEY));this._startTime=Number.isNaN(c)?null:c}},a.prototype.onLoad=function(){this._minsSpan.innerText="00",this._secsSpan.innerText="00",null!=this._hsSpan&&(this._hsSpan.innerText="00"),this._animFrameReqId=requestAnimationFrame(this._tick.bind(this)),console.log("Timer module loaded and started")},a.prototype.dispose=function(){console.log("Timer module disposed"),this._kill=!0,cancelAnimationFrame(this._animFrameReqId)},a.prototype._tick=function(b){null==this._startTime&&(this._startTime=b,this._options.rememberTime&&localStorage.setItem(a._STORED_ST_KEY,this._startTime.toString(10)),console.log("StartTime: ",this._startTime)),!1===this._kill&&(this._animFrameReqId=requestAnimationFrame(this._tick.bind(this))),this._totalMS=b-this._startTime;var c=this._calculateTime();this._displayTime(c.min,c.sec,c.hs)},a.prototype._calculateTime=function(){var a=Math.floor(this._totalMS/10),b=Math.floor(this._totalMS/1e3),c=a%100;return{sec:b%60,min:Math.floor(b/60),hs:c}},a.prototype._displayTime=function(a,b,c){this._crrntDisplayedMin!=a&&(this._crrntDisplayedMin=a,this._minsSpan.innerText=a<10?"0"+a.toString(10):a.toString(10)),this._crrntDisplayedSec!=b&&(this._crrntDisplayedSec=b,this._secsSpan.innerText=b<10?"0"+b.toString(10):b.toString(10)),null!=this._hsSpan&&this._crrntDisplayedHs!=c&&(this._crrntDisplayedHs=c,this._hsSpan.innerText=c<10?"0"+c.toString(10):c.toString(10))},a._STORED_ST_KEY="timermodule/starttime",a}();a.TimerModule=c}(a.Modules||(a.Modules={}))}(Application||(Application={}));