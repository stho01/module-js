function ModuleJs(a){var b=new ModulesJS.ModuleManager;return b.configure(a),b.init(),b}var Utils;!function(a){"use strict";var b=function(){function a(){}return a.tryCreateInstanceWithinNamespaces=function(b,c,d){if(void 0===d&&(d=[]),null==b)throw new ReferenceError("argument name cannot be null");var e=null;if(d.unshift(b),a.classExists(b))e=a.createInstance.apply(this,d);else for(var f=0;f<c.length;f++){var g=c[f]+"."+b;d[0]=g,a.classExists(g)&&(e=a.createInstance.apply(this,d))}return e},a.createInstance=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(null==a)throw new ReferenceError("argument name cannot be null");for(var d=a.split("."),e=window||this,f=0,g=d.length;f<g;f++)e=e[d[f]];if("function"!=typeof e)throw new Error("No function or class with name ["+a+"] was found in the system");return new(Function.prototype.bind.apply(e,arguments))},a.classExists=function(a){if(null==a)return!1;for(var b=a.split("."),c=window||this,d=0,e=b.length;d<e;d++){if(void 0===c)return!1;c=c[b[d]]}return"function"==typeof c},a}();a.Activator=b}(Utils||(Utils={}));var Opt;!function(a){!function(a){"use strict";var b=function(){function a(){}return a.OPTIONS_ATTRIBUTE_NAME="data-options",a}();a.Common=b}(a.Constants||(a.Constants={}))}(Opt||(Opt={}));var Opt;!function(a){!function(b){"use strict";var c={removeOptionsAttributeWhenAcquired:!1},d=function(){function b(a){this._options=Object.assign({},c,a)}return b.prototype.create=function(b,c){var d,e=b.getAttribute(ModulesJS.Constants.Common.MODULE_JS_ATTRIBUTE_NAME),f=a.Nator.instance.getOptions(b,{removeAttributeWhenAcquired:this._options.removeOptionsAttributeWhenAcquired});if(d=Utils.Activator.tryCreateInstanceWithinNamespaces(e,c,[f]),null==d)throw new Error("The module with name ["+e+"] couldn't be created within these namespaces ["+c.join(", ")+"]");return d},b}();b.ModuleFactory=d}(a.Factories||(a.Factories={}))}(Opt||(Opt={}));var Opt;!function(a){var b=function(){function b(){}return b.prototype.getOptions=function(b,c){var d=new Function("return "+this.getOptionsAsStringValue(b)+";");return c.removeAttributeWhenAcquired===!0&&b.removeAttribute(a.Constants.Common.OPTIONS_ATTRIBUTE_NAME),d()},b.prototype.hasOptions=function(b){return b.hasAttribute(a.Constants.Common.OPTIONS_ATTRIBUTE_NAME)},b.prototype.getOptionsAsStringValue=function(b){return this.hasOptions(b)?b.getAttribute(a.Constants.Common.OPTIONS_ATTRIBUTE_NAME):null},b.instance=new b,b}();a.Nator=b}(Opt||(Opt={}));var ModulesJS;!function(a){!function(a){"use strict"}(a.Abstract||(a.Abstract={}))}(ModulesJS||(ModulesJS={}));var ModulesJS;!function(a){!function(a){"use strict";var b=function(){function a(){}return a.MODULE_JS_ATTRIBUTE_NAME="data-module",a}();a.Common=b}(a.Constants||(a.Constants={}))}(ModulesJS||(ModulesJS={}));var ModulesJS;!function(a){!function(b){"use strict";var c=function(){function b(){}return b.prototype.create=function(b,c){var d=b.getAttribute(a.Constants.Common.MODULE_JS_ATTRIBUTE_NAME),e=Utils.Activator.tryCreateInstanceWithinNamespaces(d,c);if(null==e)throw new Error("The module with name ["+d+"] couldn't be created within these namespaces ["+c.join(", ")+"]");return e},b}();b.ModuleFactory=c}(a.Factories||(a.Factories={}))}(ModulesJS||(ModulesJS={}));var ModulesJS;!function(a){"use strict";var b={namespaces:[],moduleFactory:new a.Factories.ModuleFactory},c=function(){function c(){this._instanceMap=new Map,this._mutationObserver=new MutationObserver(this._onDomMutatedEventHandler.bind(this))}return Object.defineProperty(c.prototype,"moduleFactory",{get:function(){return this._options.moduleFactory},enumerable:!0,configurable:!0}),c.prototype.configure=function(a){return this._options=Object.assign({},b,a),this},c.prototype.init=function(){this.initAndLoadModulesInDOM(),this._mutationObserver.observe(document.body,{childList:!0,subtree:!0})},c.prototype.initAndLoadModulesInDOM=function(){this.createAllModules(),this.loadModules()},c.prototype.createModule=function(a){if(this.isModule(a)&&!this._instanceMap.has(a)){var b=this.moduleFactory.create(a,this._options.namespaces);return b.init(a),this._instanceMap.set(a,{element:a,module:b,children:this._getAllModuleElements(a),loaded:!1}),!0}return!1},c.prototype.createAllModules=function(a){var b=this;void 0===a&&(a=document.body),this._getAllModuleElements(a,!0).forEach(function(a){return b.createModule(a)})},c.prototype.loadModules=function(){this._instanceMap.forEach(function(a,b){a.loaded===!1&&(a.module.onLoad(),a.loaded=!0)})},c.prototype.disposeModulesNotInDOM=function(){var a=this,b=[];this._instanceMap.forEach(function(a,c){document.body.contains(a.element)||(a.module.dispose(),b.push(a))}),b.forEach(function(b){return a._instanceMap.delete(b.element)})},c.prototype.isModule=function(b){return null!=b&&b.hasAttribute(a.Constants.Common.MODULE_JS_ATTRIBUTE_NAME)},c.prototype._getAllModuleElements=function(b,c){void 0===b&&(b=document.body),void 0===c&&(c=!1);var d=b.querySelectorAll("["+a.Constants.Common.MODULE_JS_ATTRIBUTE_NAME+"]"),e=Array.from(d);return c===!0&&this.isModule(b)&&e.unshift(b),e||[]},c.prototype._onDomMutatedEventHandler=function(a,b){this.initAndLoadModulesInDOM(),this.disposeModulesNotInDOM()},c}();a.ModuleManager=c}(ModulesJS||(ModulesJS={}));